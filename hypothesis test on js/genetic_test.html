<html>
	<head>
		
		<style>
		.box{display: inline-block; width: 100px; height: 100px; border: red 1px solid;}
		</style>
	</head>
	<body>
		<canvas id="box1" class="box"></canvas>
		<canvas id="box2" class="box"></canvas>
		<script>
			function rand(min, max){return Math.floor((Math.random() * max) + min);}
			var cansize = 250;
			var canvas = document.getElementById("box1");
			var ctx = canvas.getContext("2d");
			ctx.fillStyle = "#000";
			
			var points1 = [];
			
			for (var i = 0; i < 100; i++)
			{
				points1.push({x: rand(1,cansize), y: rand(1, cansize)});
				ctx.fillRect(points1[points1.length-1].x, points1[points1.length-1].y, 9, 3);
			}
			
			var canvas2 = document.getElementById("box2");
			var ctx2 = canvas2.getContext("2d");
			ctx2.fillStyle = "#000";
			
			var points2 = [];
			
			for (var i = 0; i < 100; i++)
			{
				points2.push({x: rand(1,cansize), y: rand(1, cansize)});
				ctx2.fillRect(points2[points2.length-1].x, points2[points2.length-1].y, 9, 3);
			}
			
			middle = 0;
			mindif = 100;
			upp1 = 0;
			upp2 = 0;
			for (var j = 1; j < cansize; j++){
				uppoints1 = 0;
				uppoints2 = 0;
				for (var i = 0; i < points1.length; i++)
					if (points1[i].y < j) uppoints1++;
				for (var i = 0; i < points2.length; i++)
					if (points2[i].y < j) uppoints2++;
				
				if (uppoints1 != 0 && uppoints2 != 0 && mindif > Math.abs(uppoints1 - uppoints2)) 
				{	
					upp1 = uppoints1;
					upp2 = uppoints2;
					mindif = Math.abs(uppoints1 - uppoints2);
					middle = j;
				}
			}
			
			
			console.log('mindif: ', mindif, middle, upp1, upp2);
			<!-- ctx.rotate(20*Math.PI/180); -->
			<!-- ctx.fillRect(0,50,600,1); -->
		</script>
	</body>
</html>